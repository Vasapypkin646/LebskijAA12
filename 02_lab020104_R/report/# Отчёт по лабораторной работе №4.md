# Отчёт по лабораторной работе №4  
**Тема:** Векторное программирование  

---

## Сведения о студенте  
**Дата:** [2025-11-12]  
**Семестр:** [2 курс, 1 семестр]  
**Группа:** [Пин-б-о-24-1]  
**Дисциплина:** [Технологии программирования]  
**Студент:** [Лебский Артём Александрович]  

---

## Цель работы  
Познакомиться с особенностями векторного программирования в R. Решить задания в соответствующем стиле программирования. Составить отчет.

---

## Ход работы  

### 1. Теоретическая часть  
Векторизация — это поэлементное одновременное выполнение действий над всеми элементами.  

**Основные объекты языка R:**  
- **Вектор** – основной объект языка R. Вектор может содержать более одного значения, все объекты в векторе имеют одну природу.  
- **Лист** – элемент языка R, который может содержать разные по размеру и типу данных векторы.  
- **Дата фрейм** – элемент языка R, который может содержать одинаковые по размеру, но разные по типу данных векторы. Дата фрейм является разновидностью листа.  

**Векторизованные функции:**  
Характерной особенностью R является векторизация вычислений. Векторизация представляет собой один из способов выполнения параллельных вычислений, при котором программа определенным образом модифицируется для выполнения нескольких однотипных операций одновременно.  

Функция `apply()` используется в случаях, когда необходимо применить какую-либо функцию ко всем строкам или столбцам матрицы (или массивов большей размерности).  

---

### 2. Практическая часть  

#### Задание 1: Предобработка данных  
Создан вектор `my_vector`, затем отобраны только те наблюдения, которые отклоняются от среднего меньше, чем на одно стандартное отклонение. Результат сохранён в переменную `my_vector2`.  

**Код решения:**  
```r
my_vector <- c(21, 18, 21, 19, 25, 20, 17, 17, 18, 22, 17, 18, 18, 19, 19, 27, 21, 20,
24, 17, 15, 24, 24, 29, 19, 14, 21, 17, 19, 18, 18, 20, 21, 21, 19, 17, 21, 13, 17, 13,
23, 15, 23, 24, 16, 17, 25, 24, 22)

sred <- mean(my_vector)
a <- sd(my_vector)

my_vector2 <- c()

for (i in my_vector) {
    if (abs(sred - i) < a) {
        my_vector2 <- c(my_vector2, i)
    }
}

print(my_vector2)
```

**Вывод:**
```
[1] 21 18 21 19 25 20 17 17 18 22 17 18 18 19 19 21 20 24 17 24 24 19 21 17 19 18 18 20 21 21 19 17 21 17 23 23 24 16 17 25 24 22
```

#### Задание 2: Функция для поиска отрицательных значений

Написана функция `get_negative_values`, которая получает на вход dataframe произвольного размера. Функция для каждой переменной проверяет, есть ли в ней отрицательные значения, и возвращает список или матрицу с отрицательными значениями.
```r
get_negative_values <- function(df) {
    res_listik = list()
    for (i in 1:ncol(df)) {
        
        listik <- list()
        for (j in 1:nrow(df)) {
            if (!is.na(df[j,i]) && df[j,i] < 0) {
                
                listik <- c(listik, df[j,i])

            }
        }
        
        res_listik[[colnames(df)[i]]] <- unlist(listik)
        
    }
    
    a <- sapply(res_listik, length)

    if (all(a == a[1])) {
        masiv4ik <- cbind(res_listik$V1, res_listik$V2)
        colnames(masiv4ik) <- names(res_listik)
        return(masiv4ik)
    }
    else {
        return(res_listik)
    }
    
}
```

**Пример ввода:** 
```r
df <- as.data.frame(list(V1 = c(NA, -0.5, -0.7, -8), 
V2 = c(-0.3, NA, -2, -1.2),
V3 = c(1, 2, 3, NA)))
print(get_negative_values(df))
```

**Вывод:**
```
      V1   V2
[1,] -0.5 -0.3
[2,] -0.7 -2.0
[3,] -8.0 -1.2
```

---

## **Результаты**  

### **Структура репозитория:**  
```
LebskijAA12/02_lab020104_R/
├── project/
|   ├── zadanie_1.R
|   └── zadanie_2.R
└── report/
    ├── Отчёт по лабораторной работе №4.md
    └── README.md
```

### **Ссылка на репозиторий:**  
[GitHub Repository Link](https://github.com/Vasapypkin646/LebskijAA12)

## *Выводы*
На основе выполненной лабораторной работы по векторному программированию можно сделать следующие выводы:
Векторизация является одной из ключевых особенностей языка R, позволяющей эффективно выполнять операции над целыми наборами данных без необходимости явного использования циклов. Это не только упрощает код, но и значительно повышает его производительность.
При выполнении первого задания была продемонстрирована работа с векторами - основным объектом языка R. Использование функций `mean()`, `sd()` и `abs()` позволило эффективно отфильтровать данные по заданному условию. Данный подход показал, как векторизованные операции позволяют компактно и выразительно решать задачи обработки данных.
Второе задание потребовало создания функции для работы с датафреймами - структурами данных, которые широко используются в анализе данных. Функция `get_negative_values` продемонстрировала важность обработки пропущенных значений (NA) и необходимость проверки условий для каждого элемента данных. Реализация возврата разных структур данных (списка или матрицы) в зависимости от равномерности распределения отрицательных значений по столбцам показала гибкость R в работе с разнотипными структурами данных.
Особенностью векторного программирования в R является возможность применения функций ко всем элементам вектора, матрицы или датафрейма одновременно. Это отличает R от императивных языков программирования, где часто требуется явное использование циклов для обработки коллекций данных.
Приобретенные навыки векторного программирования составляют основу для эффективной работы с данными в R и являются необходимым условием для дальнейшего изучения более сложных тем, таких как статистическое моделирование, визуализация данных и машинное обучение.